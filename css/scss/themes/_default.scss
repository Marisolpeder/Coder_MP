// Tema por defecto para RAIN

// Colores del tema
$theme-colors: (
  "primary": $color-accent-start,
  "secondary": $color-bg,
  "success": #2855a7,
  "info": #17a2b8,
  "warning": #0933ee,
  "danger": #6f35dcea,
  "light": #f8f9fa,
  "dark": #343a40
);

// Variables específicas del tema
$body-bg: $color-bg;
$body-color: $color-text;
$link-color: $color-accent-start;
$link-hover-color: darken($link-color, 15%);

// Tipografía
$font-family-sans-serif: $font-main, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
$headings-font-weight: 700;
$headings-line-height: 1.3;

// Bordes
$border-radius: 0.5rem;
$border-radius-lg: 0.6rem;
$border-radius-sm: 0.3rem;

// Transiciones
$transition-base: all 0.3s ease-in-out;

// Sombras
$box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
$box-shadow-sm: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
$box-shadow-lg: 0 1rem 3rem rgba(0, 0, 0, 0.175);

// Aplicar estilos del tema
body {
  background-color: $body-bg;
  color: $body-color;
  font-family: $font-family-sans-serif;
  line-height: 1.6;
}

a {
  color: $link-color;
  text-decoration: none;
  transition: $transition-base;
  
  &:hover {
    color: $link-hover-color;
    text-decoration: none;
  }
}

// Estilos para encabezados
h1, h2, h3, h4, h5, h6,
.h1, .h2, .h3, .h4, .h5, .h6 {
  margin-bottom: 0.5em;
  font-family: $font-family-sans-serif;
  font-weight: $headings-font-weight;
  line-height: $headings-line-height;
  color: inherit;
}

// Botones
.btn {
  display: inline-block;
  font-weight: 600;
  text-align: center;
  white-space: nowrap;
  vertical-align: middle;
  user-select: none;
  border: 1px solid transparent;
  padding: 0.5rem 1.5rem;
  font-size: 1rem;
  line-height: 1.5;
  border-radius: $border-radius;
  transition: $transition-base;
  
  &:hover, &:focus {
    text-decoration: none;
  }
  
  &:disabled, &.disabled {
    opacity: 0.65;
  }
}

// Variantes de botones
@each $color, $value in $theme-colors {
  .btn-#{$color} {
    @include button-variant($value, $value);
  }
  
  .btn-outline-#{$color} {
    @include button-outline-variant($value);
  }
}

// Tarjetas
.card {
  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-color: $card-bg;
  background-clip: border-box;
  border: 1px solid rgba(0, 0, 0, 0.125);
  border-radius: $border-radius;
  
  .card-body {
    flex: 1 1 auto;
    padding: 1.25rem;
  }
  
  .card-title {
    margin-bottom: 0.75rem;
  }
  
  .card-text:last-child {
    margin-bottom: 0;
  }
}

// Formularios
.form-control {
  display: block;
  width: 100%;
  padding: 0.5rem 0.75rem;
  font-size: 1rem;
  line-height: 1.5;
  color: $color-text;
  background-color: rgba(255, 255, 255, 0.1);
  background-clip: padding-box;
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: $border-radius;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  
  &:focus {
    color: $color-text;
    background-color: rgba(255, 255, 255, 0.15);
    border-color: $color-accent-start;
    outline: 0;
    box-shadow: 0 0 0 0.2rem rgba($color-accent-start, 0.25);
  }
  
  &::placeholder {
    color: rgba($color-text, 0.6);
    opacity: 1;
  }
  
  &:disabled, &[readonly] {
    background-color: rgba(255, 255, 255, 0.05);
    opacity: 1;
  }
}

// Alertas
.alert {
  position: relative;
  padding: 0.75rem 1.25rem;
  margin-bottom: 1rem;
  border: 1px solid transparent;
  border-radius: $border-radius;
}

@each $color, $value in $theme-colors {
  .alert-#{$color} {
    @include alert-variant(theme-color-level($color, $alert-bg-level), theme-color-level($color, $alert-border-level), theme-color-level($color, $alert-color-level));
  }
}

// Utilidades de espaciado
$spacer: 1rem;
$spacers: ();
$spacers: map-merge(
  (
    0: 0,
    1: ($spacer * 0.25),
    2: ($spacer * 0.5),
    3: $spacer,
    4: ($spacer * 1.5),
    5: ($spacer * 3)
  ),
  $spacers
);

@each $prop, $abbrev in (margin: m, padding: p) {
  @each $size, $length in $spacers {
    .#{$abbrev}-#{$size} { #{$prop}: $length !important; }
    .#{$abbrev}t-#{$size},
    .#{$abbrev}y-#{$size} {
      #{$prop}-top: $length !important;
    }
    .#{$abbrev}r-#{$size},
    .#{$abbrev}x-#{$size} {
      #{$prop}-right: $length !important;
    }
    .#{$abbrev}b-#{$size},
    .#{$abbrev}y-#{$size} {
      #{$prop}-bottom: $length !important;
    }
    .#{$abbrev}l-#{$size},
    .#{$abbrev}x-#{$size} {
      #{$prop}-left: $length !important;
    }
  }
}

// Utilidades de visualización
.d-none { display: none !important; }
.d-inline { display: inline !important; }
.d-inline-block { display: inline-block !important; }
.d-block { display: block !important; }
.d-flex { display: flex !important; }
.d-inline-flex { display: inline-flex !important; }

// Utilidades de texto
.text-nowrap { white-space: nowrap !important; }
.text-truncate { @include text-truncate(); }

// Utilidades de posición
.position-static { position: static !important; }
.position-relative { position: relative !important; }
.position-absolute { position: absolute !important; }
.position-fixed { position: fixed !important; }
.position-sticky { position: sticky !important; }

// Utilidades de flexbox
.flex-row { flex-direction: row !important; }
.flex-column { flex-direction: column !important; }
.flex-wrap { flex-wrap: wrap !important; }
.justify-content-start { justify-content: flex-start !important; }
.justify-content-end { justify-content: flex-end !important; }
.justify-content-center { justify-content: center !important; }
.justify-content-between { justify-content: space-between !important; }
.justify-content-around { justify-content: space-around !important; }
.align-items-start { align-items: flex-start !important; }
.align-items-end { align-items: flex-end !important; }
.align-items-center { align-items: center !important; }
.align-items-baseline { align-items: baseline !important; }
.align-items-stretch { align-items: stretch !important; }
